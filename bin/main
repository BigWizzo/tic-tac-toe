#!/usr/bin/env ruby

class Board
  attr_reader :board, :winning_points

  def initialize
    @board = [1, 2, 3, 4, 5, 6, 7, 8, 9]
    @winning_points = [
      [0, 1, 2],
      [3, 4, 5],
      [6, 7, 8],
      [0, 3, 6],
      [1, 4, 7],
      [2, 5, 8],
      [6, 4, 2],
      [0, 4, 8]
    ]
  end

  def board
    @board
  end

  def winning_points
    @winning_points
  end
  
  def display_bd
    display_bd = "
    | #{@board[0]} | #{@board[1]} | #{@board[2]} |
    -------------
    | #{@board[3]} | #{@board[4]} | #{@board[5]} |
    -------------
    | #{@board[6]} | #{@board[7]} | #{@board[8]} |
    "
    display_bd

  end 
end

the_board = Board.new
board = the_board.board
winning_points = the_board.winning_points

class Player
  attr_reader :player, :player_move, :win

  def initialize
    @player = player
    @player_move = player_move
    @win = win
  end

  def player
   @player
  end

  def player_move
    @move
   end

  def win
    @win
   end
end

player_first = Player.new
player_one = player_first.player

player_second = Player.new
player_two = player_second.player

move_first = Player.new
move_one = move_first.player_move

move_second = Player.new
move_two = move_second.player_move

win_first = Player.new
win_one = win_first.win

win_second = Player.new
win_two = win_second.win

puts "Player 1, What's your name?"
player_one = gets.chomp.capitalize!

puts "Player 2, What's your name?"
player_two = gets.chomp.capitalize!

# puts 'Welcome to the Tic Tac Toe Game'
# puts 'Please read the Game instructions below.'
# puts '1. The board presented to you has 9 squares numbered from 1 - 9'
# puts '2. To win the game, You need to get 3 chips in a straight line. (Horizontal, Vertical, or Diagonal)'
# puts '3. Try to avoid your opponent from winning by strategically placing your chips'
# puts '4. If no player makes a straight line of 3 chips, the game is a draw'
# chip_one = 'x'.upcase
# chip_two = 'o'.upcase
# puts "#{player_one} you play first your chip is #{chip_one}"
# puts "#{player_two} you play second your chip is #{chip_two}\n\n"
# puts "-----------LET'S BE PLAYING-------------"
# 

x_count = []
o_count = []
turn = 1
while turn < 4
puts "#{player_one} Place Your Chip on the board."
move_one = gets.chomp.to_i

range_one = (1...9).include? move_one
board[move_one - 1] = "X"

x_count.push(move_one - 1)
puts the_board.display_bd

puts "#{player_two} Place Your Chip on the board."
move_two = gets.chomp.to_i
o_count.push(move_two - 1)
board[move_two - 1] = "O"
puts the_board.display_bd

turn += 1

win_one = winning_points.any?(x_count)
win_two = winning_points.any?(o_count)

if x_count.length == 3 && win_one
  puts "Congrats #{player_one} You have won!!!"
elsif o_count.length == 3 && win_two
  puts "Congrats #{player_two} You have won!!!"
elsif x_count.length == 3 && o_count.length == 3 && !win_one && !win_two
  puts "This is a DRAW"
end

end
